
<!doctype html>
<html class="no-js" lang="zxx">
<head>
<!-- Meta Tags -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="keywords" content="Site keywords here">
<meta name="description" content="">
<meta name='copyright' content=''>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<!-- Title -->
<title>Get Started - JOEeXPRESS</title>
<!-- Favicon -->
<link href="https://fonts.googleapis.com/css?family=Poppins:200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap" rel="stylesheet">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/nice-select.css">
<link rel="stylesheet" href="css/font-awesome.min.css">
<link rel="stylesheet" href="css/icofont.css">
<link rel="stylesheet" href="css/slicknav.min.css">
<link rel="stylesheet" href="css/owl-carousel.css">
<link rel="stylesheet" href="css/datepicker.css">
<link rel="stylesheet" href="css/animate.min.css">
<link rel="stylesheet" href="css/magnific-popup.css">
<link rel="stylesheet" href="css/normalize.css">
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="css/responsive.css">

<!-- Supabase -->
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>

<style>
.auth-container {
    max-width: 500px;
    margin: 50px auto;
    padding: 30px;
    background: #fff;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.auth-form {
    display: none;
}

.auth-form.active {
    display: block;
    animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.form-group {
    margin-bottom: 20px;
}

input{

border: none !important;
border-bottom: darkblue solid 2px !important;
border-radius: 8px !important;
margin-block: 3rem;
padding-block:1rem !important;
}

.form-control {
    width: 100%;
    border: none;
    outline: none;
    border-bottom: darkblue 2px solid;
}

input:focus {
  outline: none !important;
  border: none !important;
    border-bottom: orangered 2px solid !important;

}

.btn-auth {
    width: 100%;
    padding: 12px;
    background: linear-gradient(45deg, #007bff, #0012b3);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: transform 0.2s;
}

.btn-auth:hover {
    transform: translateY(-2px);
}

.switch-form {
    text-align: center;
    margin-top: 20px;
}

.switch-form a {
    color: #007bff;
    text-decoration: none;
    font-weight: 500;
}

.error-message {
    background: #f8d7da;
    color: #721c24;
    padding: 10px;
    border-radius: 5px;
    margin-bottom: 15px;
    display: none;
}

.success-message {
    background: #d4edda;
    color: #155724;
    padding: 10px;
    border-radius: 5px;
    margin-bottom: 15px;
    display: none;
}

.loading {
    opacity: 0.7;
    pointer-events: none;
}

select{

    border: none !important;
    outline: none !important;


}
</style>
</head>
<body>
     
<div class="container">
    <div class="auth-container">
        <div id="errorMessage" class="error-message"></div>
        <div id="successMessage" class="success-message"></div>
        
        <!-- Sign In Form -->
        <div id="signInForm" class="auth-form active">
            <h2 style="text-align: center; margin-bottom: 30px; color: #333;">Welcome Back</h2>
            <form id="signInFormElement">
                <div class="form-group">
                    <input type="email" id="signInEmail" class="form-control" placeholder="Email Address" required>
                </div>
                <div class="form-group">
                    <input type="password" id="signInPassword" class="form-control" placeholder="Password" required>
                </div>
                <button type="submit" class="btn-auth">Sign In</button>
            </form>
            <div class="switch-form">
                <p>Don't have an account? <a href="#" onclick="switchToSignUp()">Sign Up</a></p>
            </div>
        </div>

        <!-- Sign Up Form -->
        <div id="signUpForm" class="auth-form">
            <h2 style="text-align: center; margin-bottom: 30px; color: #333;">Get Started</h2>
            <form id="signUpFormElement">
                <div class="form-group">
                    <input type="text" id="firstName" class="form-control" placeholder="First Name" required>
                </div>
                <div class="form-group">
                    <input type="text" id="lastName" class="form-control" placeholder="Last Name" required>
                </div>
                <div class="form-group">
                    <input type="email" id="signUpEmail" class="form-control" placeholder="Email Address" required>
                </div>
                <div class="form-group">
                    <input type="tel" id="phone" class="form-control" placeholder="Phone Number">
                </div>
                <div class="form-group">
                    <select id="course" class="form-control">
                        <option value="">Select a Course (Optional)</option>
                        <option value="Web Development">Web Development</option>
                        <option value="UI/UX Design">UI/UX Design</option>
                        <option value="Data Analysis">Data Analysis</option>
                        <option value="Graphics Design">Graphics Design</option>
                        <option value="Video Editing">Video Editing</option>
                        <option value="Forex Trading">Forex Trading</option>
                    </select>
                </div>
                <div class="form-group">
                    <input type="password" id="signUpPassword" class="form-control" placeholder="Password" required>
                </div>
                <div class="form-group">
                    <input type="password" id="confirmPassword" class="form-control" placeholder="Confirm Password" required>
                </div>
                <button type="submit" class="btn-auth">Sign Up</button>
            </form>
            <div class="switch-form">
                <p>Already have an account? <a href="#" onclick="switchToSignIn()">Sign In</a></p>
            </div>
        </div>
    </div>
</div>

<script>
// Initialize Supabase
const supabaseUrl = 'https://icqzgoagqosthgipepdq.supabase.co';
const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImljcXpnb2FncW9zdGhnaXBlcGRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkwODI1NzAsImV4cCI6MjA2NDY1ODU3MH0.nzLqXrmUOmplR71fW-fumg58DiUOs_cKDqmjeuT8Yrg';
const supabase = window.supabase.createClient(supabaseUrl, supabaseKey, {
    auth: {
        storage: localStorage,
        persistSession: true,
        autoRefreshToken: true,
    }
});

let currentUser = null;
let currentSession = null;

// Check authentication state on page load
supabase.auth.onAuthStateChange((event, session) => {
    currentSession = session;
    currentUser = session?.user ?? null;
    
    if (currentUser) {
        // Redirect to dashboard if user is authenticated
        window.location.href = 'dashboard.html';
    }
});

// Check for existing session
supabase.auth.getSession().then(({ data: { session } }) => {
    currentSession = session;
    currentUser = session?.user ?? null;
    
    if (currentUser) {
        window.location.href = 'dashboard.html';
    }
});

function switchToSignUp() {
    document.getElementById('signInForm').classList.remove('active');
    document.getElementById('signUpForm').classList.add('active');
    clearMessages();
}

function switchToSignIn() {
    document.getElementById('signUpForm').classList.remove('active');
    document.getElementById('signInForm').classList.add('active');
    clearMessages();
}

function showError(message) {
    const errorDiv = document.getElementById('errorMessage');
    errorDiv.textContent = message;
    errorDiv.style.display = 'block';
    document.getElementById('successMessage').style.display = 'none';
}

function showSuccess(message) {
    const successDiv = document.getElementById('successMessage');
    successDiv.textContent = message;
    successDiv.style.display = 'block';
    document.getElementById('errorMessage').style.display = 'none';
}

function clearMessages() {
    document.getElementById('errorMessage').style.display = 'none';
    document.getElementById('successMessage').style.display = 'none';
}

// Sign In
document.getElementById('signInFormElement').addEventListener('submit', async (e) => {
    e.preventDefault();
    clearMessages();
    
    const email = document.getElementById('signInEmail').value;
    const password = document.getElementById('signInPassword').value;
    
    if (!email || !password) {
        showError('Please fill in all fields');
        return;
    }
    
    try {
        const form = e.target;
        form.classList.add('loading');
        
        const { data, error } = await supabase.auth.signInWithPassword({
            email,
            password
        });
        
        if (error) {
            throw error;
        }
        
        showSuccess('Sign in successful! Redirecting...');
        setTimeout(() => {
            window.location.href = 'dashboard.html';
        }, 1000);
        
    } catch (error) {
        console.error('Sign in error:', error);
        showError(error.message || 'An error occurred during sign in');
    } finally {
        document.getElementById('signInFormElement').classList.remove('loading');
    }
});

// Sign Up
document.getElementById('signUpFormElement').addEventListener('submit', async (e) => {
    e.preventDefault();
    clearMessages();
    
    const firstName = document.getElementById('firstName').value;
    const lastName = document.getElementById('lastName').value;
    const email = document.getElementById('signUpEmail').value;
    const phone = document.getElementById('phone').value;
    const course = document.getElementById('course').value;
    const password = document.getElementById('signUpPassword').value;
    const confirmPassword = document.getElementById('confirmPassword').value;
    
    if (!firstName || !lastName || !email || !password || !confirmPassword) {
        showError('Please fill in all required fields');
        return;
    }
    
    if (password !== confirmPassword) {
        showError('Passwords do not match');
        return;
    }
    
    if (password.length < 6) {
        showError('Password must be at least 6 characters long');
        return;
    }
    
    try {
        const form = e.target;
        form.classList.add('loading');
        
        const redirectUrl = `${window.location.origin}/dashboard.html`;
        
        const { data, error } = await supabase.auth.signUp({
            email,
            password,
            options: {
                emailRedirectTo: redirectUrl,
                data: {
                    first_name: firstName,
                    last_name: lastName,
                    full_name: `${firstName} ${lastName}`,
                    phone: phone,
                    course: course
                }
            }
        });
        
        if (error) {
            throw error;
        }
        
        if (data.user && !data.user.email_confirmed_at) {
            showSuccess('Please check your email to confirm your account before signing in.');
        } else {
            showSuccess('Account created successfully! Redirecting...');
            setTimeout(() => {
                window.location.href = 'dashboard.html';
            }, 1000);
        }
        
    } catch (error) {
        console.error('Sign up error:', error);
        if (error.message.includes('already registered')) {
            showError('An account with this email already exists. Please sign in instead.');
        } else {
            showError(error.message || 'An error occurred during sign up');
        }
    } finally {
        document.getElementById('signUpFormElement').classList.remove('loading');
    }
});
</script>

<!-- jQuery -->
<script src="js/jquery.min.js"></script>
<script src="js/jquery-migrate-3.0.0.js"></script>
<script src="js/jquery-ui.min.js"></script>
<script src="js/easing.js"></script>
<script src="js/colors.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap-datepicker.js"></script>
<script src="js/jquery.nav.js"></script>
<script src="js/slicknav.min.js"></script>
<script src="js/jquery.scrollUp.min.js"></script>
<script src="js/niceselect.js"></script>
<script src="js/tilt.jquery.min.js"></script>
<script src="js/owl-carousel.js"></script>
<script src="js/jquery.counterup.min.js"></script>
<script src="js/steller.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/jquery.magnific-popup.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.3/waypoints.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/main.js"></script>
</body>
</html>
